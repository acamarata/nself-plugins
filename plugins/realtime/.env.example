# Realtime Plugin Configuration
# Copy to .env and fill in your values

# =============================================================================
# Required
# =============================================================================

# Redis connection URL (required for Socket.io adapter)
REALTIME_REDIS_URL=redis://localhost:6379

# CORS origin (comma-separated for multiple origins)
REALTIME_CORS_ORIGIN=http://localhost:3000,http://localhost:3001

# PostgreSQL connection string
DATABASE_URL=postgresql://user:password@localhost:5432/nself

# =============================================================================
# Server Configuration
# =============================================================================

# Server port (default: 3101)
REALTIME_PORT=3101

# Server host (default: 0.0.0.0)
REALTIME_HOST=0.0.0.0

# Maximum concurrent connections (default: 10000)
REALTIME_MAX_CONNECTIONS=10000

# Ping timeout in milliseconds (default: 60000)
REALTIME_PING_TIMEOUT=60000

# Ping interval in milliseconds (default: 25000)
REALTIME_PING_INTERVAL=25000

# =============================================================================
# Authentication
# =============================================================================

# JWT secret for token validation (optional, if using JWT auth)
REALTIME_JWT_SECRET=your-jwt-secret-key-here

# Allow anonymous connections (default: false)
REALTIME_ALLOW_ANONYMOUS=false

# =============================================================================
# Features
# =============================================================================

# Enable presence tracking (default: true)
REALTIME_ENABLE_PRESENCE=true

# Enable typing indicators (default: true)
REALTIME_ENABLE_TYPING=true

# Typing indicator timeout in milliseconds (default: 3000)
REALTIME_TYPING_TIMEOUT=3000

# Presence heartbeat interval in milliseconds (default: 30000)
REALTIME_PRESENCE_HEARTBEAT=30000

# =============================================================================
# Performance
# =============================================================================

# Enable event compression (default: true)
REALTIME_ENABLE_COMPRESSION=true

# Event batch size for broadcasts (default: 100)
REALTIME_BATCH_SIZE=100

# Connection rate limit (connections per minute, default: 100)
REALTIME_RATE_LIMIT=100

# =============================================================================
# Logging
# =============================================================================

# Log level: debug, info, warn, error (default: info)
LOG_LEVEL=info

# Enable event logging to database (default: true)
REALTIME_LOG_EVENTS=true

# Events to log (comma-separated, * for all)
REALTIME_LOG_EVENT_TYPES=connect,disconnect,error

# =============================================================================
# Monitoring
# =============================================================================

# Enable metrics endpoint (default: true)
REALTIME_ENABLE_METRICS=true

# Metrics endpoint path (default: /metrics)
REALTIME_METRICS_PATH=/metrics

# Enable health check endpoint (default: true)
REALTIME_ENABLE_HEALTH=true

# Health check endpoint path (default: /health)
REALTIME_HEALTH_PATH=/health
